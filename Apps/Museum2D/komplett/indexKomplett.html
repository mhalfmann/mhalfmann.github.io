<!doctype HTML>
<html>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!-- <meta name="viewport" content="user-scalable=no, width=device-width, initial-scale=1, maximum-scale=1"> -->
<!-- <script src="./Javascript/aframe.min.js"></script> -->
<!-- <script src="./Javascript/aframe-ar.js"></script> -->
<script src="../../../Javascript/hammer.js"></script>
<script src="../../../Javascript/TweenMax.min.js"></script>
<script src="../../../Javascript/jquery-3.4.0.min.js"></script>
<script src="../assets/images.js"></script>
<link rel="stylesheet" type="text/css" href="../../../css/ui.css">
<link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Open+Sans" />
<style>
  a, a:visited { 
      text-decoration: none; 
      color: white;
      }
    
  .uiButtonFrame{
  }
  .thumbnail{
    /* max-height: 200px; */
    /* max-width: 200px; */
    width: 100px;
    height: auto;
    padding: 10px;
  }
  .thumbnailFrame{
    height: 80%;
    width: 2%;
    background: rgb(253, 99, 99);
    padding: 10px;
    align-items: center;
    display: flex;
  }
  .uiDialogueElement{
    margin: 10px;
  }
  
  #imageBar::-webkit-scrollbar {
    display: none;
  }

  #imageBar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

</style>
<!-- <script src="./Javascript/jquery-3.4.0.min.js"></script> -->
<!-- <script src="./Javascript/TweenMax.min.js"></script> -->
  <!-- <body onselectstart = 'return false' style='margin : 0px; overflow: hidden; background:  rgb(255, 134, 48); font-family: "Open Sans";'>    
  <div style="position: absolute; left: 0px; top: 0%;height: 7vh; width:100%; background: rgb(255, 105, 0); text-align: center; color: white; font-size: 5vh; margin-bottom: 50px;">Applikationen</div> -->
  <body onselectstart = 'return false' style='margin : 0px; overflow: hidden; background:  rgb(82, 82, 82); font-family: "Open Sans";'>    
   <!--  <div id ="header" style="position: absolute; left: 0px; top: 0%;height: 50px; width:100%; background: rgb(24, 24, 24); text-align: center; color: white; font-size: 35px; margin-bottom: 50px;">
      Museum 2D
    </div> -->
  <div id="main" style ="position: absolute; left: 0px; top: 0px;height: 100%; width:100%; overflow: hidden; padding-top: 5vh; background: rgb(116, 126, 138);">

    <div id="board" style="position: absolute; left: 0%; display: flex; flex-direction: row;flex-wrap: wrap;">
    </div>
    <div id="infoCard" style ="position: absolute; left: 5%; top: 5%; height: 90%; width:90%; background: rgb(80, 86, 93); visibility: hidden; box-shadow: 5px 5px 10px 5px rgb(0, 0, 0)">
    <!-- <div id="infoCard" style ="position: absolute; left: 5%; top: 5%; background: grey; visibility: hidden; box-shadow: 10px 10px 15px 5px rgb(80, 80, 80)"> -->
      <!-- <div id="infoImage" style="position: absolute; left: 5%; top: 5%; height: 90%;">  -->
      <div id="infoImage" style="position: absolute; height: 80vh; padding: 2vh;"> 
        <img id="infoImageIMG" height="100%">
      </div>
      <div id="infoText" style="position: absolute; right: 0%; top: 0%; padding: 2vh; height: 80vh; width: 15vw; color: white">
        
      </div>
      <div id = "closeInfoCard" style ="position: absolute; right: 10%; bottom: 10%; height: 5vh; width:5vh;">
        <img src="../../../Assets/Icons/close.png" width="100%">
      </div>
    </div>
    
  </div>
  </body>
  <script>
    let iCard = document.getElementById("infoCard")
    let iImage = document.getElementById("infoImageIMG")

    let right = false;
    let left = false;

    let screenHeight = window.innerHeight
    let screenWidth = window.innerWidth

    // document.getElementById("header").innerHTML = Gm338.text
    console.log(screenWidth+" x "+screenHeight)

    for(var i=0; i<imageArray.length; i++){
      let img = imageArray[i]

      let thumbnailFrame = document.createElement('div')
      thumbnailFrame.className ="thumbailFrame"
      document.getElementById("board").appendChild(thumbnailFrame)

      let thumbnail = document.createElement('img')

      thumbnail.className ="thumbnail"
      thumbnail.src = img.file
      thumbnail.id = img.id
      thumbnail.setAttribute('text',img.text)
      thumbnail.style.width = 2.5*img.width+"px"
      thumbnail.style.height = 2.5*img.height+"px"
      thumbnailFrame.appendChild(thumbnail)

      thumbnail.addEventListener('click',(e)=>{
        iCard.style.visibility = "visible"
        iImage.src = e.target.src
        document.getElementById("infoText").innerHTML = e.target.getAttribute('text')

        console.log(document.getElementById("infoImageIMG").getBoundingClientRect().width)

        let imgWidth = document.getElementById("infoImage").getBoundingClientRect().width
        let imgHeight = document.getElementById("infoImage").getBoundingClientRect().height
        let textWidth = document.getElementById("infoText").getBoundingClientRect().width
        let cardWidth = imgWidth+textWidth

        let left = (screenWidth-cardWidth)/2

        iCard.style.width = cardWidth+"px"
        iCard.style.height = imgHeight+"px"
        iCard.style.left = left+"px"
      })
    }

    document.getElementById("closeInfoCard").addEventListener('click',()=>{
      iCard.style.visibility = "hidden"
    })

    function showLargeImage(image){
      console.log("showing image",image.src)
      iCard.style.visibility = "visible"
      iImage.src = image.src
    }
  </script>
</html>