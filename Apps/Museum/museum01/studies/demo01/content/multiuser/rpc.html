<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    </head>
    <body onload="iwmstudy_access.addInitFunction(init)">
        <script src="../../../../app/iwm_studyaddon.js"></script>
        <div id="iwmstudy_masterbox">
            <div id="iwmstudy_centerbox">
                <div id="iwmstudy_headlinebox">
                    <!-- start of headline area -->
                    Remote Procedure Call
                    <!-- end of headline area -->
                </div>

                <div id="iwmstudy_contentbox">
                    <!-- start of content area -->
                    <div class="iwmstudy_text">Eine Interaktion mit anderen Versuchspersonen im Versuchslauf ist möglich. Dafür können beim Zielnutzer Funktionen aus der Ferne aufgerufen werden.</div>
                    <div class="iwmstudy_text">
                        Über den Button unten wird beispielhaft gezeigt, wie eine Funktion aufgerufen und dabei als Parameter der eigene Nutzname und Datum/Uhrzeit übertragen werden.
                    </div>
                    <div class="iwmstudy_custom">
                        <button type="button" onclick="startRPC(event)">RPC ausführen</button>
                    </div>
                    <div class="iwmstudy_custom">
                        <script>
                            function init() {
                                iwmstudy_access.registerFunctionForIncomingRPC("demoRPCFunction", demoRPCFunction)
                            }

                            function demoRPCFunction(demoparam1, demoparam2) {
                                alert("Remote Procedure Call von " + demoparam1 + " abgeschickt " + demoparam2)
                            }

                            function startRPC(event) {
                                let d = new Date()
                                iwmstudy_access.doRPC(iwmstudy_access.getStudyinfo().otherusers[0], "demoRPCFunction", [iwmstudy_access.getStudyinfo().user, d.toLocaleString()])
                            }
                        </script>
                    </div>
                    <!-- end of content area -->
                </div>
            </div>
        </div>
    </body>
</html>
